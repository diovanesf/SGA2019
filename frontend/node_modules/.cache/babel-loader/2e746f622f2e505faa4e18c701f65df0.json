{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\tobia\\\\OneDrive\\\\Documentos\\\\grupo4\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\tobia\\\\OneDrive\\\\Documentos\\\\grupo4\\\\frontend\\\\src\\\\pages\\\\Solicitar\\\\index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport _ from \"lodash\";\nexport default function Solicitar({\n  history\n}) {\n  // listas de grupos e atividades\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        grupos = _useState2[0],\n        setGrupos = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        atividades = _useState4[0],\n        setAtividades = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        documentos = _useState6[0],\n        setDocumentos = _useState6[1]; // dados para criar a solicitação\n\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        solicitante = _useState8[0],\n        setSolicitante = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        matricula = _useState10[0],\n        setMatricula = _useState10[1];\n\n  const _useState11 = useState(\"\"),\n        _useState12 = _slicedToArray(_useState11, 2),\n        grupo = _useState12[0],\n        setGrupo = _useState12[1];\n\n  const _useState13 = useState(\"\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        atividade = _useState14[0],\n        setAtividade = _useState14[1];\n\n  const _useState15 = useState(\"\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        nomeResponsavel = _useState16[0],\n        setNomeResponsavel = _useState16[1];\n\n  const _useState17 = useState(\"\"),\n        _useState18 = _slicedToArray(_useState17, 2),\n        localAtividade = _useState18[0],\n        setLocalAtividade = _useState18[1];\n\n  const _useState19 = useState(\"\"),\n        _useState20 = _slicedToArray(_useState19, 2),\n        periodoAtividadeInicio = _useState20[0],\n        setPeriodoAtividadeInicio = _useState20[1];\n\n  const _useState21 = useState(\"\"),\n        _useState22 = _slicedToArray(_useState21, 2),\n        periodoAtividadeFinal = _useState22[0],\n        setPeriodoAtividadeFinal = _useState22[1];\n\n  const _useState23 = useState(\"\"),\n        _useState24 = _slicedToArray(_useState23, 2),\n        cargaHorariaAtividade = _useState24[0],\n        setCargaHorariaAtividade = _useState24[1];\n\n  const _useState25 = useState(\"\"),\n        _useState26 = _slicedToArray(_useState25, 2),\n        cargaHorariaSolicitada = _useState26[0],\n        setCargaHorariaSolicitada = _useState26[1];\n\n  const _useState27 = useState(\"\"),\n        _useState28 = _slicedToArray(_useState27, 2),\n        descricaoAtividade = _useState28[0],\n        setDescricaoAtividade = _useState28[1];\n\n  const _useState29 = useState(\"\"),\n        _useState30 = _slicedToArray(_useState29, 2),\n        data = _useState30[0],\n        setData = _useState30[1];\n\n  const _useState31 = useState([]),\n        _useState32 = _slicedToArray(_useState31, 2),\n        documentosEnv = _useState32[0],\n        setDocumentosEnv = _useState32[1];\n\n  useEffect(() => {\n    api.get(\"solicitacao/buscarGrupos\").then(response => {\n      setGrupos(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    api.get(\"solicitacao/buscarAtividades\").then(response => {\n      setAtividades(response.data);\n    });\n  }, [grupos, grupo]);\n\n  const setarDocumentos = event => {\n    setAtividade(event.target.value);\n    setDocumentos(event.target.value.docsNecessarios.split(\",\"));\n    console.log(atividade);\n    console.log(documentos);\n  };\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    console.log(solicitante);\n\n    try {\n      await api.post(\"/solicitacao/salvar\", {\n        solicitante,\n        matricula,\n        grupo,\n        atividade,\n        nomeResponsavel,\n        localAtividade,\n        periodoAtividadeInicio,\n        periodoAtividadeFinal,\n        cargaHorariaAtividade,\n        cargaHorariaSolicitada,\n        descricaoAtividade,\n        data,\n        documentosEnv\n      });\n      history.push(\"/\");\n    } catch (e) {\n      alert(\"Um erro na solicitação, verifique os dados informados e tente novamente!\");\n    }\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Efetue aqui sua solicita\\xE7\\xE3o para aproveitamento de\", \" \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"ACG's\"), \".\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"solicitante\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Solicitante *\"), React.createElement(\"input\", {\n    id: \"solicitante\",\n    name: \"nolicitanteome\",\n    type: \"text\",\n    placeholder: \"Solicitante\",\n    value: solicitante,\n    required: true,\n    onChange: event => setSolicitante(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"matricula\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Matr\\xEDcula *\"), React.createElement(\"input\", {\n    id: \"matricula\",\n    name: \"matricula\",\n    type: \"number\",\n    placeholder: \"Matricula\",\n    value: matricula,\n    required: true,\n    onChange: event => setMatricula(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"grupo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Grupo *\"), React.createElement(\"select\", {\n    id: \"grupo\",\n    name: \"grupo\",\n    value: grupo // required\n    ,\n    onChange: e => {\n      setGrupo(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    selected: true,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Selecione um grupo\"), _.map(grupos, (grupo, index) => {\n    return React.createElement(\"option\", {\n      value: grupo.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, grupo.nome);\n  })), React.createElement(\"label\", {\n    htmlFor: \"atividade\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Atividade *\"), React.createElement(\"select\", {\n    id: \"atividade\",\n    name: \"atividade\" // required\n    ,\n    value: atividade,\n    onChange: setarDocumentos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    selected: true,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Selecione uma atividade\"), _.map(atividades, (atividade, index) => {\n    return React.createElement(\"option\", {\n      value: atividade.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, atividade.nome);\n  })), React.createElement(\"label\", {\n    htmlFor: \"nomeResponsavel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Professor(a) respons\\xE1vel *\"), React.createElement(\"input\", {\n    id: \"nomeResponsavel\",\n    name: \"nomeResponsavel\",\n    type: \"text\",\n    placeholder: \"Professor(a) respons\\xE1vel\",\n    value: nomeResponsavel,\n    required: true,\n    onChange: event => setNomeResponsavel(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"localAtividade\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Local da Atividade *\"), React.createElement(\"input\", {\n    id: \"localAtividade\",\n    name: \"localAtividade\",\n    type: \"text\",\n    placeholder: \"Local da Atividade\",\n    value: localAtividade,\n    required: true,\n    onChange: event => setLocalAtividade(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"periodoAtividadeInicio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Per\\xEDodo da atividade *\"), React.createElement(\"input\", {\n    id: \"periodoAtividadeInicio\",\n    name: \"periodoAtividadeInicio\",\n    type: \"date\",\n    placeholder: \"Per\\xEDodo da atividade inicio\",\n    value: periodoAtividadeInicio,\n    required: true,\n    onChange: event => setPeriodoAtividadeInicio(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"periodoAtividadeInicio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"At\\xE9\"), React.createElement(\"input\", {\n    id: \"periodoAtividadeFinal\",\n    name: \"periodoAtividadeFinal\",\n    type: \"date\",\n    placeholder: \"Per\\xEDodo da atividade final\",\n    value: periodoAtividadeFinal,\n    required: true,\n    onChange: event => setPeriodoAtividadeFinal(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"cargaHorariaAtividade\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, \"Carga-hor\\xE1ria da atividade *\"), React.createElement(\"input\", {\n    id: \"cargaHorariaAtividade\",\n    name: \"cargaHorariaAtividade\",\n    type: \"number\",\n    placeholder: \"Carga-hor\\xE1ria da atividade\",\n    value: cargaHorariaAtividade,\n    required: true,\n    onChange: event => setCargaHorariaAtividade(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"cargaHorariaSolicitada\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Carga-hor\\xE1ria solicitada *\"), React.createElement(\"input\", {\n    id: \"cargaHorariaSolicitada\",\n    name: \"cargaHorariaSolicitada\",\n    type: \"number\",\n    placeholder: \"Carga-hor\\xE1ria solicitada\",\n    value: cargaHorariaSolicitada,\n    required: true,\n    onChange: event => setCargaHorariaSolicitada(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"descricaoAtividade\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, \"Descri\\xE7\\xE3o da atividade *\"), React.createElement(\"input\", {\n    id: \"descricaoAtividade\",\n    name: \"descricaoAtividade\",\n    type: \"text\",\n    placeholder: \"Descri\\xE7\\xE3o da atividade\",\n    value: descricaoAtividade,\n    required: true,\n    onChange: event => setDescricaoAtividade(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"documento\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \"Comprovante *\"), _.map(documentos, (documento, index) => {\n    return React.createElement(\"input\", {\n      id: documento.nome,\n      name: documento.nome,\n      type: \"file\",\n      placeholder: \"Comprovante\",\n      value: documento,\n      required: true,\n      onChange: event => setDocumentosEnv(event.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    });\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, \"Solicitar\")), React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/\",\n    style: {\n      textDecoration: \"none\",\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, \"Voltar\"))));\n}","map":{"version":3,"sources":["C:/Users/tobia/OneDrive/Documentos/grupo4/frontend/src/pages/Solicitar/index.js"],"names":["React","useState","useEffect","Link","api","_","Solicitar","history","grupos","setGrupos","atividades","setAtividades","documentos","setDocumentos","solicitante","setSolicitante","matricula","setMatricula","grupo","setGrupo","atividade","setAtividade","nomeResponsavel","setNomeResponsavel","localAtividade","setLocalAtividade","periodoAtividadeInicio","setPeriodoAtividadeInicio","periodoAtividadeFinal","setPeriodoAtividadeFinal","cargaHorariaAtividade","setCargaHorariaAtividade","cargaHorariaSolicitada","setCargaHorariaSolicitada","descricaoAtividade","setDescricaoAtividade","data","setData","documentosEnv","setDocumentosEnv","get","then","response","setarDocumentos","event","target","value","docsNecessarios","split","console","log","handleSubmit","preventDefault","post","push","e","alert","map","index","id","nome","documento","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport api from \"../../services/api\";\r\nimport _ from \"lodash\";\r\n\r\nexport default function Solicitar({ history }) {\r\n  // listas de grupos e atividades\r\n  const [grupos, setGrupos] = useState([]);\r\n  const [atividades, setAtividades] = useState([]);\r\n  const [documentos, setDocumentos] = useState([]);\r\n\r\n  // dados para criar a solicitação\r\n  const [solicitante, setSolicitante] = useState(\"\");\r\n  const [matricula, setMatricula] = useState(\"\");\r\n  const [grupo, setGrupo] = useState(\"\");\r\n  const [atividade, setAtividade] = useState(\"\");\r\n  const [nomeResponsavel, setNomeResponsavel] = useState(\"\");\r\n  const [localAtividade, setLocalAtividade] = useState(\"\");\r\n  const [periodoAtividadeInicio, setPeriodoAtividadeInicio] = useState(\"\");\r\n  const [periodoAtividadeFinal, setPeriodoAtividadeFinal] = useState(\"\");\r\n  const [cargaHorariaAtividade, setCargaHorariaAtividade] = useState(\"\");\r\n  const [cargaHorariaSolicitada, setCargaHorariaSolicitada] = useState(\"\");\r\n  const [descricaoAtividade, setDescricaoAtividade] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [documentosEnv, setDocumentosEnv] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.get(\"solicitacao/buscarGrupos\").then(response => {\r\n      setGrupos(response.data);\r\n    });\r\n  }, []);\r\n  useEffect(() => {\r\n    api.get(\"solicitacao/buscarAtividades\").then(response => {\r\n      setAtividades(response.data);\r\n    });\r\n  }, [grupos, grupo]);\r\n\r\n  const setarDocumentos = event => {\r\n    setAtividade(event.target.value);\r\n    setDocumentos(event.target.value.docsNecessarios.split(\",\"));\r\n    console.log(atividade);\r\n    console.log(documentos);\r\n  };\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    console.log(solicitante);\r\n\r\n    try {\r\n      await api.post(\"/solicitacao/salvar\", {\r\n        solicitante,\r\n        matricula,\r\n        grupo,\r\n        atividade,\r\n        nomeResponsavel,\r\n        localAtividade,\r\n        periodoAtividadeInicio,\r\n        periodoAtividadeFinal,\r\n        cargaHorariaAtividade,\r\n        cargaHorariaSolicitada,\r\n        descricaoAtividade,\r\n        data,\r\n        documentosEnv\r\n      });\r\n      history.push(\"/\");\r\n    } catch (e) {\r\n      alert(\r\n        \"Um erro na solicitação, verifique os dados informados e tente novamente!\"\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <p>\r\n        Efetue aqui sua solicitação para aproveitamento de{\" \"}\r\n        <strong>ACG's</strong>.\r\n      </p>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"solicitante\">Solicitante *</label>\r\n        <input\r\n          id=\"solicitante\"\r\n          name=\"nolicitanteome\"\r\n          type=\"text\"\r\n          placeholder=\"Solicitante\"\r\n          value={solicitante}\r\n          required\r\n          onChange={event => setSolicitante(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"matricula\">Matrícula *</label>\r\n        <input\r\n          id=\"matricula\"\r\n          name=\"matricula\"\r\n          type=\"number\"\r\n          placeholder=\"Matricula\"\r\n          value={matricula}\r\n          required\r\n          onChange={event => setMatricula(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"grupo\">Grupo *</label>\r\n        <select\r\n          id=\"grupo\"\r\n          name=\"grupo\"\r\n          value={grupo}\r\n          // required\r\n          onChange={e => {\r\n            setGrupo(e.target.value);\r\n          }}\r\n        >\r\n          <option selected disabled>\r\n            Selecione um grupo\r\n          </option>\r\n          {_.map(grupos, (grupo, index) => {\r\n            return <option value={grupo.id}>{grupo.nome}</option>;\r\n          })}\r\n        </select>\r\n\r\n        <label htmlFor=\"atividade\">Atividade *</label>\r\n        <select\r\n          id=\"atividade\"\r\n          name=\"atividade\"\r\n          // required\r\n          value={atividade}\r\n          onChange={setarDocumentos}\r\n        >\r\n          <option selected disabled>\r\n            Selecione uma atividade\r\n          </option>\r\n          {_.map(atividades, (atividade, index) => {\r\n            return <option value={atividade.id}>{atividade.nome}</option>;\r\n          })}\r\n        </select>\r\n\r\n        <label htmlFor=\"nomeResponsavel\">Professor(a) responsável *</label>\r\n        <input\r\n          id=\"nomeResponsavel\"\r\n          name=\"nomeResponsavel\"\r\n          type=\"text\"\r\n          placeholder=\"Professor(a) responsável\"\r\n          value={nomeResponsavel}\r\n          required\r\n          onChange={event => setNomeResponsavel(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"localAtividade\">Local da Atividade *</label>\r\n        <input\r\n          id=\"localAtividade\"\r\n          name=\"localAtividade\"\r\n          type=\"text\"\r\n          placeholder=\"Local da Atividade\"\r\n          value={localAtividade}\r\n          required\r\n          onChange={event => setLocalAtividade(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"periodoAtividadeInicio\">Período da atividade *</label>\r\n        <input\r\n          id=\"periodoAtividadeInicio\"\r\n          name=\"periodoAtividadeInicio\"\r\n          type=\"date\"\r\n          placeholder=\"Período da atividade inicio\"\r\n          value={periodoAtividadeInicio}\r\n          required\r\n          onChange={event => setPeriodoAtividadeInicio(event.target.value)}\r\n        />\r\n        <label htmlFor=\"periodoAtividadeInicio\">Até</label>\r\n        <input\r\n          id=\"periodoAtividadeFinal\"\r\n          name=\"periodoAtividadeFinal\"\r\n          type=\"date\"\r\n          placeholder=\"Período da atividade final\"\r\n          value={periodoAtividadeFinal}\r\n          required\r\n          onChange={event => setPeriodoAtividadeFinal(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"cargaHorariaAtividade\">\r\n          Carga-horária da atividade *\r\n        </label>\r\n        <input\r\n          id=\"cargaHorariaAtividade\"\r\n          name=\"cargaHorariaAtividade\"\r\n          type=\"number\"\r\n          placeholder=\"Carga-horária da atividade\"\r\n          value={cargaHorariaAtividade}\r\n          required\r\n          onChange={event => setCargaHorariaAtividade(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"cargaHorariaSolicitada\">\r\n          Carga-horária solicitada *\r\n        </label>\r\n        <input\r\n          id=\"cargaHorariaSolicitada\"\r\n          name=\"cargaHorariaSolicitada\"\r\n          type=\"number\"\r\n          placeholder=\"Carga-horária solicitada\"\r\n          value={cargaHorariaSolicitada}\r\n          required\r\n          onChange={event => setCargaHorariaSolicitada(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"descricaoAtividade\">Descrição da atividade *</label>\r\n        <input\r\n          id=\"descricaoAtividade\"\r\n          name=\"descricaoAtividade\"\r\n          type=\"text\"\r\n          placeholder=\"Descrição da atividade\"\r\n          value={descricaoAtividade}\r\n          required\r\n          onChange={event => setDescricaoAtividade(event.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"documento\">Comprovante *</label>\r\n        {_.map(documentos, (documento, index) => {\r\n          return (\r\n            <input\r\n              id={documento.nome}\r\n              name={documento.nome}\r\n              type=\"file\"\r\n              placeholder=\"Comprovante\"\r\n              value={documento}\r\n              required\r\n              onChange={event => setDocumentosEnv(event.target.value)}\r\n            />\r\n          );\r\n        })}\r\n\r\n        <button type=\"submit\" className=\"btn btn-add\">\r\n          Solicitar\r\n        </button>\r\n      </form>\r\n      <Link to=\"/\">\r\n        <button className=\"btn btn-add\">\r\n          <a\r\n            href=\"/\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"white\"\r\n            }}\r\n          >\r\n            Voltar\r\n          </a>\r\n        </button>\r\n      </Link>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}